<% if (typeof message !== 'undefined' && message) { %>
    <div class="message <%= message.type || 'info' %>" style="
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 8px;
        background: <%= message.type === 'success' ? '#d4edda' : message.type === 'error' ? '#f8d7da' : '#d1ecf1' %>;
        color: <%= message.type === 'success' ? '#155724' : message.type === 'error' ? '#721c24' : '#0c5460' %>;
        border: 1px solid <%= message.type === 'success' ? '#c3e6cb' : message.type === 'error' ? '#f5c6cb' : '#bee5eb' %>;
    ">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <span>
                <% if (message.type === 'success') { %>
                    <i class="fas fa-check-circle"></i>
                <% } else if (message.type === 'error') { %>
                    <i class="fas fa-exclamation-circle"></i>
                <% } else { %>
                    <i class="fas fa-info-circle"></i>
                <% } %>
                <%= message.text || message %>
            </span>
            <button onclick="this.parentElement.parentElement.style.display='none'" style="
                background: none;
                border: none;
                color: inherit;
                cursor: pointer;
                font-size: 1.2rem;
            ">
                &times;
            </button>
        </div>
    </div>
<% } %>

<!-- Flash messages from session -->
<% if (typeof success_msg !== 'undefined' && success_msg) { %>
    <div class="message success" style="
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 8px;
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    ">
        <i class="fas fa-check-circle"></i> <%= success_msg %>
    </div>
<% } %>

<% if (typeof error_msg !== 'undefined' && error_msg) { %>
    <div class="message error" style="
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 8px;
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    ">
        <i class="fas fa-exclamation-circle"></i> <%= error_msg %>
    </div>
<% } %>